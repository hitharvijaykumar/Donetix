{% extends 'base.html' %}
{% block title %}Chat with {{ other_user.username }}{% endblock %}
{% block content %}
<h2>Chat with {{ other_user.username }}</h2>
<div style="border:1px solid #ccc; padding:10px; height:300px; overflow-y:scroll;">
    {% for msg in messages %}
        <p><strong>{{ msg.sender.username }}:</strong> {{ msg.content }} <small>({{ msg.timestamp|date:"H:i" }})</small></p>
    {% endfor %}
</div>

<form method="post" style="margin-top:10px;">
    {% csrf_token %}
    <textarea name="content" rows="3" cols="50" placeholder="Type your message..."></textarea><br>
    <button type="submit">Send</button>
</form>
{% endblock %}